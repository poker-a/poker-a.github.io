(this.webpackJsonp=this.webpackJsonp||[]).push([[1],{1797:function(e,t){function r(e){return e.sort((e,t)=>"latest"===e||"earliest"===t?1:"latest"===t||"earliest"===e?-1:n(e)-n(t))}function n(e){return void 0===e||null===e?e:Number.parseInt(e,16)}function s(e){if(void 0===e||null===e)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function o(){return Math.floor(16*Math.random()).toString(16)}e.exports={minBlockRef:function(...e){return r(e)[0]},maxBlockRef:function(...e){const t=r(e);return t[t.length-1]},sortBlockRefs:r,bnToHex:function(e){return"0x"+e.toString(16)},blockRefIsNumber:function(e){return e&&!["earliest","latest","pending"].includes(e)},hexToInt:n,incrementHexInt:function(e){if(void 0===e||null===e)return e;return s(n(e)+1)},intToHex:s,unsafeRandomBytes:function(e){let t="0x";for(let r=0;r<e;r++)t+=o(),t+=o();return t}}},1865:function(e,t,r){const n=r(1796).default;e.exports=class extends n{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(e=>this.emit("update",e))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}},1866:function(e,t){function r(e){return void 0===e||null===e?e:Number.parseInt(e,16)}function n(e){if(void 0===e||null===e)return e;return"0x"+e.toString(16)}e.exports=async function({provider:e,fromBlock:t,toBlock:s}){t||(t=s);const o=r(t),i=r(s),c=Array(i-o+1).fill().map((e,t)=>o+t).map(n);return await Promise.all(c.map(t=>function(e,t,r){return new Promise((n,s)=>{e.sendAsync({id:1,jsonrpc:"2.0",method:t,params:r},(e,t)=>{if(e)return s(e);n(t.result)})})}(e,"eth_getBlockByNumber",[t,!1])))}},1945:function(e,t,r){const n=r(1946),s=r(2114);function o(e,t){return new Promise(r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()})}e.exports=class extends s{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const t=e.pollingInterval||2e4,r=e.retryTimeout||t/10,n=void 0===e.keepEventLoopActive||e.keepEventLoopActive,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:t},e)),this._provider=e.provider,this._pollingInterval=t,this._retryTimeout=r,this._keepEventLoopActive=n,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await o(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error("PollingBlockTracker - encountered an error while attempting to update latest block:\n"+e.stack);try{this.emit("error",r)}catch(t){console.error(r)}await o(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const t=await n(t=>this._provider.sendAsync(e,t))();if(t.error)throw new Error("PollingBlockTracker - encountered error fetching block:\n"+t.error);return t.result}}},1946:function(e,t,r){"use strict";const n=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];return new r((r,s)=>{t.errorFirst?n.push((function(e,n){if(t.multiArgs){const t=new Array(arguments.length-1);for(let e=1;e<arguments.length;e++)t[e-1]=arguments[e];e?(t.unshift(e),s(t)):r(t)}else e?s(e):r(n)})):n.push((function(e){if(t.multiArgs){const e=new Array(arguments.length-1);for(let t=0;t<arguments.length;t++)e[t]=arguments[t];r(e)}else r(e)})),e.apply(this,n)})};e.exports=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=e=>{const r=t=>"string"===typeof t?e===t:t.test(e);return t.include?t.include.some(r):!t.exclude.some(r)};let s;s="function"===typeof e?function(){return t.excludeMain?e.apply(this,arguments):n(e,t).apply(this,arguments)}:Object.create(Object.getPrototypeOf(e));for(const o in e){const i=e[o];s[o]="function"===typeof i&&r(o)?n(i,t):i}return s}},1947:function(e,t,r){const n=r(1796).default,s=r(1948),{createAsyncMiddleware:o}=r(1949),i=r(1954),{unsafeRandomBytes:c,incrementHexInt:a}=r(1797),u=r(1866);function l(e){return{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}e.exports=function({blockTracker:e,provider:t}){const r={},h=i({blockTracker:e,provider:t});let d=!1;const p=new n,f=s({eth_subscribe:o((async function(n,s){if(d)throw new Error("SubscriptionManager - attempting to use after destroying");const o=n.params[0],i=c(16);let p;switch(o){case"newHeads":p=function({subId:r}){const n={type:o,destroy:async()=>{e.removeListener("sync",n.update)},update:async({oldBlock:e,newBlock:n})=>{const s=n,o=a(e);(await u({provider:t,fromBlock:o,toBlock:s})).map(l).forEach(e=>{m(r,e)})}};return e.on("sync",n.update),n}({subId:i});break;case"logs":const r=n.params[1],s=await h.newLogFilter(r);p=function({subId:e,filter:t}){t.on("update",t=>m(e,t));return{type:o,destroy:async()=>await h.uninstallFilter(t.idHex)}}({subId:i,filter:s});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${o}"`)}return r[i]=p,void(s.result=i)})),eth_unsubscribe:o((async function(e,t){if(d)throw new Error("SubscriptionManager - attempting to use after destroying");const n=e.params[0],s=r[n];if(!s)return void(t.result=!1);delete r[n],await s.destroy(),t.result=!0}))});return f.destroy=function(){p.removeAllListeners();for(const e in r)r[e].destroy(),delete r[e];d=!0},{events:p,middleware:f};function m(e,t){p.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:e,result:t}})}}},1948:function(e,t,r){e.exports=r(2116)},1949:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),s(r(2117),t),s(r(2118),t),s(r(2119),t),s(r(1950),t),s(r(1951),t),s(r(2121),t)},1950:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueId=void 0;let n=Math.floor(4294967295*Math.random());t.getUniqueId=function(){return n=(n+1)%4294967295,n}},1951:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonRpcEngine=void 0;const s=n(r(1796)),o=r(1952);class i extends s.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&"function"!==typeof t)throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return async(e,t,r,n)=>{try{const[s,o,c]=await i._runAllMiddleware(e,t,this._middleware);return o?(await i._runReturnHandlers(c),n(s)):r(async e=>{try{await i._runReturnHandlers(c)}catch(t){return e(t)}return e()})}catch(s){return n(s)}}}async _handleBatch(e,t){try{const r=await Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(r){if(t)return t(r);throw r}}_promiseHandle(e){return new Promise(t=>{this._handle(e,(e,r)=>{t(r)})})}async _handle(e,t){if(!e||Array.isArray(e)||"object"!==typeof e){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Requests must be plain objects. Received: "+typeof e,{request:e});return t(r,{id:void 0,jsonrpc:"2.0",error:r})}if("string"!==typeof e.method){const r=new o.EthereumRpcError(o.errorCodes.rpc.invalidRequest,"Must specify a string method. Received: "+typeof e.method,{request:e});return t(r,{id:e.id,jsonrpc:"2.0",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let s=null;try{await this._processRequest(r,n)}catch(i){s=i}return s&&(delete n.result,n.error||(n.error=o.serializeError(s))),t(s,n)}async _processRequest(e,t){const[r,n,s]=await i._runAllMiddleware(e,t,this._middleware);if(i._checkForCompletion(e,t,n),await i._runReturnHandlers(s),r)throw r}static async _runAllMiddleware(e,t,r){const n=[];let s=null,o=!1;for(const c of r)if([s,o]=await i._runMiddleware(e,t,c,n),o)break;return[s,o,n.reverse()]}static _runMiddleware(e,t,r,n){return new Promise(s=>{const i=e=>{const r=e||t.error;r&&(t.error=o.serializeError(r)),s([r,!0])},a=r=>{t.error?i(t.error):(r&&("function"!==typeof r&&i(new o.EthereumRpcError(o.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof r}" for request:\n${c(e)}`,{request:e})),n.push(r)),s([null,!1]))};try{r(e,t,a,i)}catch(u){i(u)}})}static async _runReturnHandlers(e){for(const t of e)await new Promise((e,r)=>{t(t=>t?r(t):e())})}static _checkForCompletion(e,t,r){if(!("result"in t)&&!("error"in t))throw new o.EthereumRpcError(o.errorCodes.rpc.internal,"JsonRpcEngine: Response has no error or result for request:\n"+c(e),{request:e});if(!r)throw new o.EthereumRpcError(o.errorCodes.rpc.internal,"JsonRpcEngine: Nothing ended request:\n"+c(e),{request:e})}}function c(e){return JSON.stringify(e,null,2)}t.JsonRpcEngine=i},1954:function(e,t,r){const n=r(2474).Mutex,{createAsyncMiddleware:s}=r(1949),o=r(1948),i=r(2122),c=r(2125),a=r(2126),{intToHex:u,hexToInt:l}=r(1797);function h(e){return d(async(...t)=>{const r=await e(...t);return u(r.id)})}function d(e){return s(async(t,r)=>{const n=await e.apply(null,t.params);r.result=n})}function p(e,t){const r=[];for(let n in e)r.push(e[n]);return r}e.exports=function({blockTracker:e,provider:t}){let r=0,s={};const f=new n,m=function({mutex:e}){return t=>async(r,n,s,o)=>{(await e.acquire())(),t(r,n,s,o)}}({mutex:f}),y=o({eth_newFilter:m(h(_)),eth_newBlockFilter:m(h(v)),eth_newPendingTransactionFilter:m(h(k)),eth_uninstallFilter:m(d(R)),eth_getFilterChanges:m(d(g)),eth_getFilterLogs:m(d(b))}),w=async({oldBlock:e,newBlock:t})=>{if(0===s.length)return;const r=await f.acquire();try{await Promise.all(p(s).map(async r=>{try{await r.update({oldBlock:e,newBlock:t})}catch(n){console.error(n)}}))}catch(n){console.error(n)}r()};return y.newLogFilter=_,y.newBlockFilter=v,y.newPendingTransactionFilter=k,y.uninstallFilter=R,y.getFilterChanges=g,y.getFilterLogs=b,y.destroy=()=>{!async function(){const e=p(s).length;s={},x({prevFilterCount:e,newFilterCount:0})}()},y;async function _(e){const r=new i({provider:t,params:e});await B(r);return r}async function v(){const e=new c({provider:t});await B(e);return e}async function k(){const e=new a({provider:t});await B(e);return e}async function g(e){const t=l(e),r=s[t];if(!r)throw new Error(`No filter for index "${t}"`);return r.getChangesAndClear()}async function b(e){const t=l(e),r=s[t];if(!r)throw new Error(`No filter for index "${t}"`);return"log"===r.type?results=r.getAllResults():results=[],results}async function R(e){const t=l(e),r=s[t],n=Boolean(r);return n&&await async function(e){const t=p(s).length;delete s[e];const r=p(s).length;x({prevFilterCount:t,newFilterCount:r})}(t),n}async function B(t){const n=p(s).length,o=await e.getLatestBlock();await t.initialize({currentBlock:o}),r++,s[r]=t,t.id=r,t.idHex=u(r);return x({prevFilterCount:n,newFilterCount:p(s).length}),r}function x({prevFilterCount:t,newFilterCount:r}){0===t&&r>0?e.on("sync",w):t>0&&0===r&&e.removeListener("sync",w)}}},2114:function(e,t,r){r(715),r(1946);const n=r(2115),s=(e,t)=>e+t,o=["sync","latest"];function i(e){return Number.parseInt(e,16)}e.exports=class extends n{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||2e4,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){if(this._currentBlock)return this._currentBlock;return await new Promise(e=>this.once("latest",e))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,t){o.includes(e)&&this._maybeStart()}_onRemoveListener(e,t){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return o.map(e=>this.listenerCount(e)).reduce(s)}_newPotentialLatest(e){const t=this._currentBlock;t&&i(e)<=i(t)||this._setCurrentBlock(e)}_setCurrentBlock(e){const t=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:t,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}},2115:function(e,t,r){const n=r(88),s=r(33);var o="object"===typeof Reflect?Reflect:null,i=o&&"function"===typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};function c(){s.call(this)}function a(e,t,r){try{i(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function u(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}e.exports=c,n.inherits(c,s),c.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,s=this._events;if(void 0!==s)n=n&&void 0===s.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var i=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw i.context=o,i}var c=s[e];if(void 0===c)return!1;if("function"===typeof c)a(c,this,t);else{var l=c.length,h=u(c,l);for(r=0;r<l;++r)a(h[r],this,t)}return!0}},2116:function(e,t){e.exports=function(e){return(t,r,n,s)=>{const o=e[t.method];return void 0===o?n():"function"===typeof o?o(t,r,n,s):(r.result=o,s())}}},2117:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIdRemapMiddleware=void 0;const n=r(1950);t.createIdRemapMiddleware=function(){return(e,t,r,s)=>{const o=e.id,i=n.getUniqueId();e.id=i,t.id=i,r(r=>{e.id=o,t.id=o,r()})}}},2118:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAsyncMiddleware=void 0,t.createAsyncMiddleware=function(e){return async(t,r,n,s)=>{let o;const i=new Promise(e=>{o=e});let c=null,a=!1;const u=async()=>{a=!0,n(e=>{c=e,o()}),await i};try{await e(t,r,u),a?(await i,c(null)):s(null)}catch(l){c?c(l):s(l)}}}},2119:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createScaffoldMiddleware=void 0,t.createScaffoldMiddleware=function(e){return(t,r,n,s)=>{const o=e[t.method];return void 0===o?n():"function"===typeof o?o(t,r,n,s):(r.result=o,s())}}},2121:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMiddleware=void 0;const n=r(1951);t.mergeMiddleware=function(e){const t=new n.JsonRpcEngine;return e.forEach(e=>t.push(e)),t.asMiddleware()}},2122:function(e,t,r){const n=r(715),s=r(2123),o=r(2124),{bnToHex:i,hexToInt:c,incrementHexInt:a,minBlockRef:u,blockRefIsNumber:l}=r(1797);e.exports=class extends o{constructor({provider:e,params:t}){super(),this.type="log",this.ethQuery=new n(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},t),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(e=>e.toLowerCase()))}async initialize({currentBlock:e}){let t=this.params.fromBlock;["latest","pending"].includes(t)&&(t=e),"earliest"===t&&(t="0x0"),this.params.fromBlock=t;const r=u(this.params.toBlock,e),n=Object.assign({},this.params,{toBlock:r}),s=await this._fetchLogs(n);this.addInitialResults(s)}async update({oldBlock:e,newBlock:t}){const r=t;let n;n=e?a(e):t;const s=Object.assign({},this.params,{fromBlock:n,toBlock:r}),o=(await this._fetchLogs(s)).filter(e=>this.matchLog(e));this.addResults(o)}async _fetchLogs(e){return await s(t=>this.ethQuery.getLogs(e,t))()}matchLog(e){if(c(this.params.fromBlock)>=c(e.blockNumber))return!1;if(l(this.params.toBlock)&&c(this.params.toBlock)<=c(e.blockNumber))return!1;const t=e.address&&e.address.toLowerCase();if(this.params.address&&t&&!this.params.address.includes(t))return!1;return this.params.topics.every((t,r)=>{let n=e.topics[r];if(!n)return!1;n=n.toLowerCase();let s=Array.isArray(t)?t:[t];if(s.includes(null))return!0;s=s.map(e=>e.toLowerCase());return s.includes(n)})}}},2123:function(e,t,r){"use strict";const n=(e,t,r,n)=>function(...s){return new(0,t.promiseModule)((o,i)=>{t.multiArgs?s.push((...e)=>{t.errorFirst?e[0]?i(e):(e.shift(),o(e)):o(e)}):t.errorFirst?s.push((e,t)=>{e?i(e):o(t)}):s.push(o);const c=this===r?n:this;Reflect.apply(e,c,s)})},s=new WeakMap;e.exports=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const r=typeof e;if(null===e||"object"!==r&&"function"!==r)throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":r}\``);const o=new WeakMap,i=new Proxy(e,{apply(e,r,s){const c=o.get(e);if(c)return Reflect.apply(c,r,s);const a=t.excludeMain?e:n(e,t,i,e);return o.set(e,a),Reflect.apply(a,r,s)},get(e,r){const c=e[r];if(!((e,r)=>{let n=s.get(e);if(n||(n={},s.set(e,n)),r in n)return n[r];const o=e=>"string"===typeof e||"symbol"===typeof r?r===e:e.test(r),i=Reflect.getOwnPropertyDescriptor(e,r),c=void 0===i||i.writable||i.configurable,a=(t.include?t.include.some(o):!t.exclude.some(o))&&c;return n[r]=a,a})(e,r)||c===Function.prototype[r])return c;const a=o.get(c);if(a)return a;if("function"===typeof c){const r=n(c,t,i,e);return o.set(c,r),r}return c}});return i}},2124:function(e,t,r){const n=r(1865);e.exports=class extends n{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}},2125:function(e,t,r){const n=r(1865),s=r(1866),{incrementHexInt:o}=r(1797);e.exports=class extends n{constructor({provider:e,params:t}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:t}){const r=t,n=o(e),i=(await s({provider:this.provider,fromBlock:n,toBlock:r})).map(e=>e.hash);this.addResults(i)}}},2126:function(e,t,r){const n=r(1865),s=r(1866),{incrementHexInt:o}=r(1797);e.exports=class extends n{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const t=e,r=o(e),n=await s({provider:this.provider,fromBlock:r,toBlock:t}),i=[];for(const s of n)i.push(...s.transactions);this.addResults(i)}}},2474:function(e,t,r){"use strict";r.r(t),r.d(t,"Mutex",(function(){return i})),r.d(t,"Semaphore",(function(){return o})),r.d(t,"withTimeout",(function(){return c}));function n(e,t,r,n){return new(r||(r=Promise))((function(s,o){function i(e){try{a(n.next(e))}catch(t){o(t)}}function c(e){try{a(n.throw(e))}catch(t){o(t)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}a((n=n.apply(e,t||[])).next())}))}function s(e,t){var r,n,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(s=2&o[0]?n.return:o[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,o[1])).done)return s;switch(n=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){i.label=o[1];break}if(6===o[0]&&i.label<s[1]){i.label=s[1],s=o;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(o);break}s[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}Object.create;Object.create;var o=function(){function e(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),r=new Promise((function(t){return e._queue.push(t)}));return t||this._dispatch(),r},e.prototype.runExclusive=function(e){return n(this,void 0,void 0,(function(){var t,r,n;return s(this,(function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:t=s.sent(),r=t[0],n=t[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(r)];case 3:return[2,s.sent()];case 4:return n(),[7];case 5:return[2]}}))}))},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var r=!1;this._currentReleaser=function(){r||(r=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},e}(),i=function(){function e(){this._semaphore=new o(1)}return e.prototype.acquire=function(){return n(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=t.sent(),[2,e[1]]}}))}))},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive((function(){return e()}))},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();function c(e,t,r){var o=this;return void 0===r&&(r=new Error("timeout")),{acquire:function(){return new Promise((function(i,c){return n(o,void 0,void 0,(function(){var n,o;return s(this,(function(s){switch(s.label){case 0:return n=!1,setTimeout((function(){n=!0,c(r)}),t),[4,e.acquire()];case 1:return o=s.sent(),n?(Array.isArray(o)?o[1]:o)():i(o),[2]}}))}))}))},runExclusive:function(e){return n(this,void 0,void 0,(function(){var t,r;return s(this,(function(n){switch(n.label){case 0:t=function(){},n.label=1;case 1:return n.trys.push([1,,7,8]),[4,this.acquire()];case 2:return r=n.sent(),Array.isArray(r)?(t=r[1],[4,e(r[0])]):[3,4];case 3:return[2,n.sent()];case 4:return t=r,[4,e()];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return t(),[7];case 8:return[2]}}))}))},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}}}]);
//# sourceMappingURL=1.2642f14c.chunk.js.map